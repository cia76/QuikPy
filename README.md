# QuikPy
Библиотека-обертка, которая позволяет получить доступ к функционалу QUIK из Python на основе [Документации по языку LUA в QUIK и примеры](https://arqatech.com/ru/support/files/) - Интерпретатор языка LUA. В качестве коннектора используются скрипты LUA [проекта QUIK#](https://github.com/finsight/QUIKSharp).

### Что такое библиотека-обертка?
Компактная библиотека, содержащая только самый необходимый код для работы с API брокера из Python:
- Подключение к API. Отслеживание корректности подключения (обновление токенов, переподключение)
- Выполнение запросов и получение ответов от API
- Механизмы подписок, отмены подписок. Получение и разбор данных подписок
- Конвертация типов данных брокера в типы данных Python и обратно. Например, цена, лоты/штуки, дата/время
- Конвертация типов данных брокера в универсальные типы и обратно. Например, название тикера, режимы торгов, временнОй интервал
- Ведение лога отправляемых и получаемых данных от API

### Назначение
 - Создание автоматических торговых систем любой сложности
 - Написание дополнений к системам Технического Анализа
 - Тестирование торговых систем и автоматическая торговля в [BackTrader](https://www.backtrader.com/) через [систему "Финансовая Лаборатория"](https://github.com/cia76/FinLabPy).

### Установка
1. Установите библиотеку через pip в командной строке: **pip install git+https://github.com/cia76/QuikPy.git**
2. Скопируйте папку со скриптами LUA **QUIK\lua** в папку установки QUIK. Эти скрипты также можно получить из проекта QUIK# [здесь >>>](https://github.com/finsight/QUIKSharp/tree/master/src/QuikSharp/lua)
3. Скопируйте папку **QUIK\socket** в папку установки QUIK. Библиотека core.dll для LUA версии 5.4.1 также выложена в проекте QUIK# [здесь >>>](https://github.com/finsight/QUIKSharp/tree/master/src/QuikSharp/lua/clibs64/54_MD/socket)
4. Запустите QUIK. Из меню **Сервисы** выберите **LUA скрипты**. Нажмите кнопку **Добавить**. Выберете скрипт **QuikSharp.lua** Нажмите кнопку **OK**. Выделите скрипт из списка. Нажмите кнопку **Запустить**.

Если в окне сообщений QUIK выдаст **QUIK# is waiting for client connection...**, то скрипт запущен успешно.

### Начало работы
В папке **Examples** находится хорошо документированный код примеров. С них лучше начать разбираться с библиотекой.

1. **Connect.py** - Проверка работоспособности
2. **Ticker.py** - Информация о тикере
3. **Accounts.py** - Получение счетов, открытых позиций, активных заявок
4. **Bars.py** - Получение баров. Требуется библиотека pandas, которую можно установить через **pip install pandas**
5. **Stream.py** - Подписки на стакан, обезличенные сделки, новые бары
6. **Transactions.py** - Рыночные, лимитные и стоп заявки
7. **MultiScripts.py** - Запуск нескольких скриптов одновременно

### Авторство, право использования, развитие
Автор данной библиотеки Чечет Игорь Александрович.

Библиотека написана в рамках проекта [Финансовая Лаборатория](https://finlab.vip/) и предоставляется бесплатно. При распространении ссылка на автора и проект обязательны.

Исправление ошибок, доработка и развитие библиотеки осуществляется автором и сообществом проекта [Финансовая Лаборатория](https://finlab.vip/).

### Что дальше
- Бесплатный курс "Автоторговля" по идеям, концепциям и процессам алгоритмической/автоматической торговли [смотрите здесь >>>](https://finlab.vip/wpm-category/autotrading2021/)


- Бесплатный курс "BackTrader: Быстрый старт" [ждет вас здесь >>>](https://finlab.vip/wpm-category/btquickstart/)


- [Подписывайтесь на Telegram канал "Финансовой Лаборатории",](https://t.me/finlabvip) чтобы быть в курсе всех новинок алгоритмической и автоматической торговли.
